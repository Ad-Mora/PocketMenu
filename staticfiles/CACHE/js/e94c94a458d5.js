var documentModule=(function(){document.addEventListener('keydown',callKeypressFunctions);window.addEventListener('resize',callResizeFunctions);window.addEventListener('click',callClickFunctions);document.addEventListener('scroll',callScrollFunctions);var onKeyPressEvents=[];var onResizeEvents=[];var onClickEvents=[];var onScrollEvents=[];function callKeypressFunctions(event){for(var i=0;i<onKeyPressEvents.length;i++){(onKeyPressEvents[i])(event);}}
function callResizeFunctions(event){for(var i=0;i<onResizeEvents.length;i++){(onResizeEvents[i])(event);}}
function callClickFunctions(event){for(var i=0;i<onClickEvents.length;i++){(onClickEvents[i])(event);}}
function callScrollFunctions(event){for(var i=0;i<onScrollEvents.length;i++){(onScrollEvents[i])(event);}}
function addOnKeyPressFunction(func){onKeyPressEvents.push(func)}
function addOnResizeFunction(func){onResizeEvents.push(func)}
function addOnClickFunction(func){onClickEvents.push(func);}
function addOnScrollFunction(func){onScrollEvents.push(func);}
return{addOnKeyPressFunction:addOnKeyPressFunction,addOnResizeFunction:addOnResizeFunction,addOnClickFunction:addOnClickFunction,addOnScrollFunction:addOnScrollFunction};})();var ajax=(function(){function getCSRFToken(){var csrfCookie=document.cookie.split(';')[0];var csrfTokenValue=csrfCookie.split('=')[1];return csrfTokenValue}
function send_ajax_request(destination_file,json_data,csrftoken,postAjaxFunction){var xmlhttp;if(window.XMLHttpRequest){xmlhttp=new XMLHttpRequest();}else{xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");}
xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4&&xmlhttp.status==200){postAjaxFunction(xmlhttp.responseText);}};xmlhttp.open("POST",destination_file,true);xmlhttp.setRequestHeader("X-CSRFToken",csrftoken);xmlhttp.send(JSON.stringify(json_data));}
return{send_ajax_request:send_ajax_request,getCSRFToken:getCSRFToken};})();var masterSearch=(function(){var searchBarForm=document.querySelector("form.search-bar-form");var searchTypeRadioList=searchBarForm.querySelectorAll("input.search-option-radio-btn");var searchTypeSelect=searchBarForm.querySelector("select.select-search-type");var searchBar=searchBarForm.querySelector("input.search-bar");var searchSuggestions=searchBarForm.querySelector("ul.search-suggestions-list");searchBar.addEventListener("input",onSearchBarFocus);documentModule.addOnClickFunction(selectSuggestionsOrBlurEvent);searchBar.addEventListener("keyup",querySuggestions);searchTypeRadioList[0].addEventListener("change",updateSearchTypeSelect);searchTypeRadioList[1].addEventListener("change",updateSearchTypeSelect);searchTypeSelect.addEventListener("change",updateSearchTypeRadioButtons);function updateSearchTypeSelect(event){searchTypeSelect.value=event.target.value;searchBar.placeholder="Search for "+event.target.value+"s";}
function updateSearchTypeRadioButtons(event){searchBarForm.querySelector("input[name=radio-search-type][value="+event.target.value+"]").checked=true;searchBar.placeholder="Search for "+event.target.value+"s";}
function onSearchBarFocus(event){searchSuggestions.style.display="block";}
function selectSuggestionsOrBlurEvent(event){var targetElement=event.target;if(targetElement.parentNode===searchSuggestions){var suggestion_text=targetElement.innerHTML;searchBar.value=suggestion_text;searchBarForm.submit();}
else if(targetElement!==searchBar){}
searchSuggestions.style.display="none";}
function querySuggestions(event){var destination_file=event.target.getAttribute("data-autocomplete-suggestions-href");var search_type=searchBarForm.querySelector('input[name="radio-search-type"]:checked').value;var csrfMiddlewareToken=ajax.getCSRFToken();var json_data={"search-bar":searchBar.value,"search-type":search_type}
var postAjaxFunction=function(result){searchSuggestions.innerHTML=result;}
ajax.send_ajax_request(destination_file,json_data,csrfMiddlewareToken,postAjaxFunction);}
return{};})();var websiteHeader=(function(){var headerElement=document.querySelector("div.header");var hamburgerIcon=headerElement.querySelector("div.hamburger-icon-wrapper");var desktopSearchBar=headerElement.querySelector("form.header-search-bar-with-icon");var searchIcon=headerElement.querySelector("img.search-icon");return{headerContainer:headerElement,categoriesIcon:hamburgerIcon,headerSearchBar:desktopSearchBar,mobileSearchIcon:searchIcon};})();